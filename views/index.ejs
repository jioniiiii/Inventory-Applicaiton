<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Albums</title>
    <link rel="preload" href="/css/styles.css" as="style">
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css">
</head>
<body>
    <%- include('partials/nav') %>
    
    <header>
        <h1>Featured Albums</h1>
    </header>

    <div class="swiper-container">
        <div class="swiper-wrapper">
            <% featuredAlbums.forEach(album => { %>
                <div class="swiper-slide album-card">
                    <a href="/album/<%= encodeURIComponent(album.title) %>">
                        <img src="<%= album.image %>" alt="<%= album.title %>">
                        <div class="album-info">
                            <h2><%= album.title %></h2>
                            <p><strong>Artist:</strong> <%= album.artist && album.artist.name ? album.artist.name : 'N/A' %></p>
                        </div>
                    </a>
                </div>
            <% }) %>
        </div>
    </div>

    <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            var swiper = new Swiper('.swiper-container', {
                loop: true,
                autoplay: {
                    delay: 5000,
                    disableOnInteraction: false,
                },
                pagination: {
                    el: '.swiper-pagination',
                    clickable: true,
                },
                slidesPerView: 3,
                spaceBetween: 25,
                breakpoints: {
                    1940: {
                        slidesPerView: 7,
                        spaceBetween: 25,
                    },
                    1620: {
                        slidesPerView: 6,
                        spaceBetween: 25,
                    },
                    1300: {
                        slidesPerView: 5,
                        spaceBetween: 25,
                    },
                    1000: {
                        slidesPerView: 4,
                        spaceBetween: 25,
                    },
                    740: {
                        slidesPerView: 3,
                        spaceBetween: 25,
                    },
                    480: {
                        slidesPerView: 2,
                        spaceBetween: 25,
                    },
                    0: {
                        slidesPerView: 1,
                        spaceBetween: 25,
                    },
                },
                effect: 'slide', 
                speed: 600,
            });
        });
    </script>
</body>
</html>